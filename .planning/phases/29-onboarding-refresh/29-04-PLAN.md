---
phase: 29-onboarding-refresh
plan: 04
type: execute
---

<objective>
Refresh Market/Competition, Customer Journey, and Brand/Positioning steps with v2.0 design system.

Purpose: Apply design refresh to the middle three steps of the onboarding flow.
Output: Updated step-market-competition, step-customer-journey, and step-brand-positioning with premium styling.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/docs/AI-GOS-DESIGN-SYSTEM.md
@.planning/phases/29-onboarding-refresh/29-02-SUMMARY.md
@.planning/phases/29-onboarding-refresh/29-03-SUMMARY.md

**Established patterns:**
- FloatingLabelInput for inputs
- FloatingLabelTextarea for textareas
- MagneticButton Continue/Back pattern
- staggerContainer/staggerItem animations
- fadeUp for headings
- Design token colors for all text, borders, backgrounds

**Files to update:**
@src/components/onboarding/step-market-competition.tsx
@src/components/onboarding/step-customer-journey.tsx
@src/components/onboarding/step-brand-positioning.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Refresh step-market-competition</name>
  <files>src/components/onboarding/step-market-competition.tsx</files>
  <action>
Update step-market-competition.tsx:

1. Add imports:
- FloatingLabelInput from @/components/ui/floating-label-input
- FloatingLabelTextarea from @/components/ui/floating-label-textarea
- MagneticButton from @/components/ui/magnetic-button
- motion from framer-motion
- fadeUp, staggerContainer, staggerItem from @/lib/motion

2. Update heading:
```tsx
<motion.div className="space-y-2" variants={fadeUp} initial="initial" animate="animate">
  <h2 className="text-[24px] font-bold tracking-tight" style={{ color: 'var(--text-primary)' }}>
    Market & Competition
  </h2>
  <p style={{ color: 'var(--text-secondary)', fontSize: '15px' }}>
    Tell us about your market landscape and competitors
  </p>
</motion.div>
```

3. Replace Input → FloatingLabelInput
4. Replace Textarea → FloatingLabelTextarea
5. Remove Label components and icon decorations
6. Wrap field groups in staggerContainer

7. If there are competitor list inputs or dynamic fields:
- Style add/remove buttons with --accent-blue
- List items: rounded-lg, border var(--border-default), p-4
- Hover: background var(--bg-hover)

8. Apply MagneticButton pattern
9. Style errors with var(--error) color
  </action>
  <verify>npm run build passes, market form styled with design tokens</verify>
  <done>step-market-competition refreshed with v2.0 styling</done>
</task>

<task type="auto">
  <name>Task 2: Refresh step-customer-journey</name>
  <files>src/components/onboarding/step-customer-journey.tsx</files>
  <action>
Update step-customer-journey.tsx:

1. Add same imports as Task 1

2. Update heading with fadeUp:
```tsx
<motion.div className="space-y-2" variants={fadeUp} initial="initial" animate="animate">
  <h2 className="text-[24px] font-bold tracking-tight" style={{ color: 'var(--text-primary)' }}>
    Customer Journey
  </h2>
  <p style={{ color: 'var(--text-secondary)', fontSize: '15px' }}>
    Map out how customers discover and buy from you
  </p>
</motion.div>
```

3. Replace all Input → FloatingLabelInput
4. Replace all Textarea → FloatingLabelTextarea

5. If there are journey stage visualizations:
- Stage indicators: use --accent-blue for active, --text-tertiary for inactive
- Connection lines: --border-default color
- Stage labels: text-[14px] font-medium

6. Wrap in staggerContainer, apply staggerItem to each field/section

7. Apply MagneticButton pattern for navigation
  </action>
  <verify>npm run build passes, journey form styled consistently</verify>
  <done>step-customer-journey refreshed with FloatingLabel and animations</done>
</task>

<task type="auto">
  <name>Task 3: Refresh step-brand-positioning</name>
  <files>src/components/onboarding/step-brand-positioning.tsx</files>
  <action>
Update step-brand-positioning.tsx:

1. Add same imports as previous tasks

2. Update heading with fadeUp:
```tsx
<motion.div className="space-y-2" variants={fadeUp} initial="initial" animate="animate">
  <h2 className="text-[24px] font-bold tracking-tight" style={{ color: 'var(--text-primary)' }}>
    Brand & Positioning
  </h2>
  <p style={{ color: 'var(--text-secondary)', fontSize: '15px' }}>
    Define your brand voice and market positioning
  </p>
</motion.div>
```

3. Replace all Input → FloatingLabelInput
4. Replace all Textarea → FloatingLabelTextarea

5. If there are any Select components for tone/voice:
- Style with design tokens as established in 29-03

6. If there are any visual examples or previews:
- Container: rounded-xl, border var(--border-default), p-6
- Background: var(--bg-elevated)

7. Wrap fields in staggerContainer with staggerItem

8. Apply MagneticButton pattern

9. Remove decorative icons from labels
  </action>
  <verify>npm run build passes, brand form styled with design tokens</verify>
  <done>step-brand-positioning refreshed with v2.0 design system</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run lint` passes
- [ ] step-market-competition uses FloatingLabel components
- [ ] step-customer-journey uses FloatingLabel components
- [ ] step-brand-positioning uses FloatingLabel components
- [ ] All three steps have consistent styling
- [ ] All three steps have working MagneticButton navigation
- [ ] Stagger animations work on all forms
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- All three forms visually consistent with earlier refreshed steps
</success_criteria>

<output>
After completion, create `.planning/phases/29-onboarding-refresh/29-04-SUMMARY.md`
</output>
