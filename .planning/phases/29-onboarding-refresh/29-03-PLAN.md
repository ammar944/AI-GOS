---
phase: 29-onboarding-refresh
plan: 03
type: execute
---

<objective>
Refresh ICP and Product/Offer steps with FloatingLabelInput, FloatingLabelTextarea, and v2.0 design system styling.

Purpose: Apply design refresh to the two most field-heavy forms in the onboarding flow.
Output: Updated step-icp and step-product-offer with premium styling.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/docs/AI-GOS-DESIGN-SYSTEM.md
@.planning/phases/29-onboarding-refresh/29-01-SUMMARY.md
@.planning/phases/29-onboarding-refresh/29-02-SUMMARY.md

**Patterns established in 29-02:**
- FloatingLabelInput for single-line inputs
- FloatingLabelTextarea for multi-line inputs
- MagneticButton Continue/Back pattern
- staggerContainer/staggerItem for field animations
- fadeUp for section animations

**Design System Specifics:**
- Select dropdowns: style trigger with --bg-elevated background, --border-default border
- Checkbox groups: --border-default border, --accent-blue-subtle background when selected
- Field spacing: gap-8 (32px) between field groups
- Grid layouts: gap-6 (24px) for side-by-side fields
- Section headings: text-[18px] font-semibold var(--text-primary) with bottom border

**Files to update:**
@src/components/onboarding/step-icp.tsx
@src/components/onboarding/step-product-offer.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Refresh step-icp with FloatingLabel components</name>
  <files>src/components/onboarding/step-icp.tsx</files>
  <action>
Update step-icp.tsx (largest form, ~10 fields):

1. Replace imports:
- Remove: Input, Label, Textarea from @/components/ui
- Add: FloatingLabelInput from @/components/ui/floating-label-input
- Add: FloatingLabelTextarea from @/components/ui/floating-label-textarea
- Add: MagneticButton from @/components/ui/magnetic-button
- Add: motion from framer-motion
- Add: fadeUp, staggerContainer, staggerItem from @/lib/motion

2. Update heading section with fadeUp animation

3. Replace Input fields with FloatingLabelInput:
- industryVertical, jobTitles, geography → FloatingLabelInput
- primaryIcpDescription, easiestToClose, buyingTriggers, secondaryIcp, systemsPlatforms → FloatingLabelTextarea

4. Style Select component (companySize):
- Keep shadcn Select but style with design tokens
- SelectTrigger: background var(--bg-elevated), border var(--border-default), rounded-lg
- SelectTrigger hover: border var(--border-hover)
- SelectContent: background var(--bg-surface), border var(--border-default)
- SelectItem: hover background var(--bg-hover)

5. Style checkbox grid (bestClientSources):
```tsx
<label
  className={cn(
    "flex cursor-pointer items-center gap-3 rounded-lg p-4 transition-all",
    formData.bestClientSources.includes(option.value)
      ? "border-[var(--accent-blue)]"
      : "border-[var(--border-default)]"
  )}
  style={{
    border: '1px solid',
    borderColor: formData.bestClientSources.includes(option.value)
      ? 'var(--accent-blue)'
      : 'var(--border-default)',
    background: formData.bestClientSources.includes(option.value)
      ? 'var(--accent-blue-subtle)'
      : 'transparent',
  }}
>
```

6. Wrap form sections in motion.div with staggerItem

7. Apply MagneticButton pattern for Continue/Back

8. Remove icon decorations from labels (floating labels are cleaner)
  </action>
  <verify>npm run build passes, ICP form displays with floating labels and design tokens</verify>
  <done>step-icp refreshed with FloatingLabel components and v2.0 styling</done>
</task>

<task type="auto">
  <name>Task 2: Refresh step-product-offer with design system</name>
  <files>src/components/onboarding/step-product-offer.tsx</files>
  <action>
Update step-product-offer.tsx with v2.0 design:

1. Add same imports as step-icp

2. Update heading with fadeUp animation:
```tsx
<motion.div className="space-y-2" variants={fadeUp} initial="initial" animate="animate">
  <h2 className="text-[24px] font-bold tracking-tight" style={{ color: 'var(--text-primary)' }}>
    Product & Offer
  </h2>
  <p style={{ color: 'var(--text-secondary)', fontSize: '15px' }}>
    Describe what you sell and how you position it
  </p>
</motion.div>
```

3. Replace all Input fields with FloatingLabelInput
4. Replace all Textarea fields with FloatingLabelTextarea

5. If there are any section dividers or grouped fields:
- Add subtle divider: h-px, background var(--border-subtle), my-8
- Section titles: text-[16px] font-semibold var(--text-primary)

6. Wrap fields in staggerContainer with staggerItem children

7. Apply MagneticButton pattern for buttons

8. Error styling:
```tsx
{errors.fieldName && (
  <p className="text-[13px] mt-2" style={{ color: 'var(--error)' }}>
    {errors.fieldName}
  </p>
)}
```
  </action>
  <verify>npm run build passes, product/offer form styled consistently with ICP</verify>
  <done>step-product-offer refreshed with FloatingLabel components and animations</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run lint` passes
- [ ] step-icp floating labels animate correctly on all fields
- [ ] step-icp checkbox grid uses accent colors for selected state
- [ ] step-icp Select dropdown styled with design tokens
- [ ] step-product-offer matches step-icp styling pattern
- [ ] Both steps have working MagneticButton navigation
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- Both forms visually consistent with v2.0 design system
</success_criteria>

<output>
After completion, create `.planning/phases/29-onboarding-refresh/29-03-SUMMARY.md`
</output>
