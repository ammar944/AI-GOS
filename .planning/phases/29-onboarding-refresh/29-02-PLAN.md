---
phase: 29-onboarding-refresh
plan: 02
type: execute
---

<objective>
Refresh simple steps (business-basics, compliance) with FloatingLabelInput and establish MagneticButton pattern for all form actions.

Purpose: Establish the button and input patterns that will be reused across all step components.
Output: Updated step-business-basics and step-compliance with v2.0 design, reusable button patterns.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/docs/AI-GOS-DESIGN-SYSTEM.md
@.planning/phases/29-onboarding-refresh/29-01-SUMMARY.md

**Design System Colors:**
- --text-primary: #ffffff (headings)
- --text-secondary: #a0a0a0 (body, descriptions)
- --text-tertiary: #666666 (labels, placeholders)
- --accent-blue: #3b82f6 (primary actions)
- --border-default: rgba(255,255,255,0.06)
- --bg-hover: #111111 (hover states)

**Button Patterns from Design System:**
- Primary: MagneticButton with --gradient-primary background, white text, 12px radius
- Secondary/Back: transparent background, --border-default border, --text-secondary color
- Both should have whileHover={{ scale: 1.02 }} and whileTap={{ scale: 0.98 }}

**Typography:**
- Heading: text-[24px] font-bold tracking-tight (Geist Sans)
- Body/description: text-[15px] var(--text-secondary)
- Labels: text-[14px] font-medium var(--text-tertiary)
- Error text: text-[13px] var(--error) (#ef4444)

**Existing components:**
@src/components/ui/floating-label-input.tsx
@src/components/ui/floating-label-textarea.tsx (from 29-01)
@src/components/ui/magnetic-button.tsx

**Files to update:**
@src/components/onboarding/step-business-basics.tsx
@src/components/onboarding/step-compliance.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Refresh step-business-basics with FloatingLabelInput</name>
  <files>src/components/onboarding/step-business-basics.tsx</files>
  <action>
Update step-business-basics.tsx with v2.0 design:

1. Replace imports:
- Remove: Input, Label from @/components/ui
- Add: FloatingLabelInput from @/components/ui/floating-label-input
- Add: MagneticButton from @/components/ui/magnetic-button
- Add: motion from framer-motion
- Add: fadeUp, staggerContainer, staggerItem from @/lib/motion

2. Update heading section:
```tsx
<motion.div
  className="space-y-2"
  variants={fadeUp}
  initial="initial"
  animate="animate"
>
  <h2
    className="text-[24px] font-bold tracking-tight"
    style={{ color: 'var(--text-primary)' }}
  >
    Business Basics
  </h2>
  <p style={{ color: 'var(--text-secondary)', fontSize: '15px' }}>
    Let&apos;s start with your company information
  </p>
</motion.div>
```

3. Replace Input fields with FloatingLabelInput:
```tsx
<motion.div variants={staggerItem}>
  <FloatingLabelInput
    label="Business Name"
    value={formData.businessName}
    onChange={(e) => updateField("businessName", e.target.value)}
    aria-invalid={!!errors.businessName}
  />
  {errors.businessName && (
    <p className="text-[13px] mt-2" style={{ color: 'var(--error)' }}>
      {errors.businessName}
    </p>
  )}
</motion.div>
```

4. Remove the icon from labels (FloatingLabelInput has its own label)

5. Wrap form fields in staggerContainer:
```tsx
<motion.div
  className="grid gap-8"
  variants={staggerContainer}
  initial="initial"
  animate="animate"
>
  {/* fields */}
</motion.div>
```

6. Update button section with MagneticButton (see Task 3 for pattern)
  </action>
  <verify>npm run build passes, form displays with floating labels</verify>
  <done>step-business-basics uses FloatingLabelInput with stagger animations</done>
</task>

<task type="auto">
  <name>Task 2: Refresh step-compliance with design tokens</name>
  <files>src/components/onboarding/step-compliance.tsx</files>
  <action>
Update step-compliance.tsx with v2.0 design:

1. Add imports:
- motion from framer-motion
- fadeUp, staggerContainer, staggerItem from @/lib/motion
- MagneticButton from @/components/ui/magnetic-button

2. Update heading with same pattern as Task 1

3. Style the checkbox/toggle sections:
- Container: p-4, rounded-lg (--radius-lg), border 1px solid var(--border-default)
- Hover: background var(--bg-hover)
- Selected: border-color var(--accent-blue), background var(--accent-blue-subtle)
- Label text: text-[14px] var(--text-primary)
- Description text: text-[13px] var(--text-tertiary)

4. Update toggle switches if present:
- Track off: var(--bg-hover)
- Track on: var(--accent-blue)
- Thumb: var(--text-primary)

5. Wrap sections in staggerContainer for entrance animations

6. Apply motion.div with staggerItem to each checkbox group
  </action>
  <verify>npm run build passes, compliance form styled with design tokens</verify>
  <done>step-compliance uses v2.0 colors, spacing, and animations</done>
</task>

<task type="auto">
  <name>Task 3: Establish MagneticButton Continue/Back pattern</name>
  <files>src/components/onboarding/step-business-basics.tsx, src/components/onboarding/step-compliance.tsx</files>
  <action>
Create consistent button pattern for all step forms:

1. Primary Continue button (all steps):
```tsx
<MagneticButton
  type="submit"
  className="flex-1 py-3 px-6 rounded-xl text-[14px] font-semibold text-white"
  style={{
    background: 'var(--gradient-primary)',
    boxShadow: '0 0 20px rgba(59, 130, 246, 0.3)',
  }}
>
  Continue
</MagneticButton>
```

2. Secondary Back button (steps 2-9):
```tsx
<MagneticButton
  type="button"
  onClick={onBack}
  className="py-3 px-6 rounded-xl text-[14px] font-medium"
  style={{
    background: 'transparent',
    border: '1px solid var(--border-default)',
    color: 'var(--text-secondary)',
  }}
>
  Back
</MagneticButton>
```

3. Button container styling:
```tsx
<motion.div
  className="flex gap-3 pt-6"
  variants={fadeUp}
  initial="initial"
  animate="animate"
  transition={{ delay: 0.3 }}
>
  {onBack && <BackButton />}
  <ContinueButton />
</motion.div>
```

4. Add hover glow effect to primary button:
- On hover, increase box-shadow opacity
- MagneticButton already handles scale animations

Apply this pattern to both step-business-basics.tsx and step-compliance.tsx
  </action>
  <verify>npm run build passes, buttons have magnetic effect and proper styling</verify>
  <done>MagneticButton pattern established and applied to both simple steps</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run lint` passes
- [ ] step-business-basics shows floating label inputs
- [ ] step-compliance uses design system colors
- [ ] Both steps have MagneticButton with magnetic hover effect
- [ ] Stagger animations work on form fields
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- Button pattern ready for reuse in remaining steps
</success_criteria>

<output>
After completion, create `.planning/phases/29-onboarding-refresh/29-02-SUMMARY.md`
</output>
