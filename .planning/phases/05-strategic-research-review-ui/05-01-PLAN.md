---
phase: 05-strategic-research-review-ui
plan: 01
type: execute
---

<objective>
Create the foundation component for reviewable section cards that display strategic research sections.

Purpose: Build the core UI component that will be used in the validation gate review flow, enabling users to view and later edit (Phase 6) each section of their strategic research.

Output: `StrategicResearchSectionCard` component with expand/collapse, status indicators, and content display for all 5 section types.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Prior decisions affecting this phase:**
- Strategic research only at gate - user reviews research before media plan (v1.1 decision)
- Inline text editing for edits - click-to-edit UX (v1.1 decision, applies to Phase 6)

**Existing patterns to follow:**
@src/components/strategic-blueprint/strategic-blueprint-display.tsx
- Section component (lines 80-103) - section header with icon and number
- SubSection component (lines 106-115) - subsection headers
- Helper components: ListItem, BoolCheck, ScoreDisplay, safeRender, safeArray
- SECTION_ICONS and SECTION_LABELS constants

@src/lib/strategic-blueprint/output-types.ts
- StrategicBlueprintSection type
- All section interfaces (IndustryMarketOverview, ICPAnalysisValidation, etc.)
- STRATEGIC_BLUEPRINT_SECTION_ORDER constant

**UI components available:**
@src/components/ui/card.tsx
@src/components/ui/badge.tsx
@src/components/ui/button.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create StrategicResearchSectionCard component</name>
  <files>src/components/strategic-research/section-card.tsx</files>
  <action>
Create a new component that displays a single strategic research section in a reviewable card format.

**Component props:**
```typescript
interface SectionCardProps {
  sectionKey: StrategicBlueprintSection;
  sectionData: unknown; // The actual section data
  isExpanded: boolean;
  isReviewed: boolean;
  onToggleExpand: () => void;
  onMarkReviewed: () => void;
}
```

**Structure:**
1. Card wrapper with border styling based on reviewed status (green border if reviewed)
2. Header row with:
   - Section number (1-5 based on STRATEGIC_BLUEPRINT_SECTION_ORDER index)
   - Section icon (from SECTION_ICONS)
   - Section label (from SECTION_LABELS)
   - Reviewed badge (CheckCircle2 icon + "Reviewed" text if isReviewed)
   - Expand/collapse chevron button
3. Collapsible content area (animate with CSS transition)
4. Footer with "Mark as Reviewed" button (if not yet reviewed)

**Use existing UI patterns:**
- Reuse Card, CardContent from shadcn
- Reuse Badge for status indicator
- Reuse Button for actions
- Use cn() for conditional classes
- Use ChevronDown/ChevronUp from lucide-react for expand toggle

**Do NOT implement section-specific content display yet** - that's Task 2. Just render a placeholder or pass through to a content renderer prop.
  </action>
  <verify>
- File exists at src/components/strategic-research/section-card.tsx
- Component exports SectionCardProps interface and SectionCard component
- TypeScript compiles without errors: `npx tsc --noEmit`
  </verify>
  <done>
- SectionCard component created with expand/collapse, reviewed status, and action buttons
- Props interface exported for type safety
- No TypeScript errors
  </done>
</task>

<task type="auto">
  <name>Task 2: Create section content renderers for all 5 section types</name>
  <files>src/components/strategic-research/section-content.tsx, src/components/strategic-research/index.ts</files>
  <action>
Create content renderer components that display the detailed content for each of the 5 strategic blueprint sections.

**Approach:** Extract and adapt the rendering logic from `strategic-blueprint-display.tsx` into focused content components. Each renderer receives its section data and displays it in a reviewable format.

**Create in section-content.tsx:**

1. `IndustryMarketContent` - Renders IndustryMarketOverview data
   - Category Snapshot grid
   - Market Dynamics (demand drivers, buying triggers, barriers)
   - Pain Points (primary/secondary)
   - Psychological Drivers
   - Audience Objections
   - Messaging Opportunities

2. `ICPAnalysisContent` - Renders ICPAnalysisValidation data
   - Final Verdict banner with status
   - Coherence Check grid
   - Pain-Solution Fit
   - Market Reachability
   - Economic Feasibility
   - Risk Assessment
   - Recommendations

3. `OfferAnalysisContent` - Renders OfferAnalysisViability data
   - Recommendation banner
   - Offer Clarity checks
   - Offer Strength scores (with progress bars)
   - Market-Offer Fit
   - Red Flags
   - Action Items

4. `CompetitorAnalysisContent` - Renders CompetitorAnalysis data
   - Competitor Snapshots
   - Creative Library
   - Funnel Breakdown
   - Market Strengths/Weaknesses
   - Gaps & Opportunities

5. `CrossAnalysisContent` - Renders CrossAnalysisSynthesis data
   - Key Insights
   - Recommended Positioning
   - Primary Messaging Angles
   - Recommended Platforms
   - Critical Success Factors
   - Potential Blockers
   - Next Steps

**Helper functions to reuse:**
Copy safeRender, safeArray, ListItem, BoolCheck, ScoreDisplay, SubSection from strategic-blueprint-display.tsx into section-content.tsx (or a shared helpers file).

**Create SectionContentRenderer:**
```typescript
export function SectionContentRenderer({
  sectionKey,
  data
}: {
  sectionKey: StrategicBlueprintSection;
  data: unknown;
}) {
  switch (sectionKey) {
    case 'industryMarketOverview':
      return <IndustryMarketContent data={data as IndustryMarketOverview} />;
    // ... etc
  }
}
```

**Create index.ts barrel export:**
```typescript
export { SectionCard } from './section-card';
export { SectionContentRenderer } from './section-content';
export type { SectionCardProps } from './section-card';
```

**Key principle:** Keep the visual appearance similar to the existing blueprint display, but structure the code for reusability and future editability.
  </action>
  <verify>
- Files exist: section-content.tsx, index.ts
- All 5 content renderers implemented
- SectionContentRenderer switch covers all section types
- TypeScript compiles: `npx tsc --noEmit`
- Build succeeds: `npm run build`
  </verify>
  <done>
- All 5 section content renderers created
- SectionContentRenderer dispatcher function created
- Barrel export in index.ts
- Build passes with no errors
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npx tsc --noEmit` passes
- [ ] `npm run build` succeeds
- [ ] src/components/strategic-research/ directory contains: section-card.tsx, section-content.tsx, index.ts
- [ ] All components properly typed with TypeScript
</verification>

<success_criteria>
- SectionCard component with expand/collapse and reviewed status
- All 5 section content renderers implemented
- Components follow existing codebase patterns
- No TypeScript or build errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-strategic-research-review-ui/05-01-SUMMARY.md`

# Phase 5 Plan 1: Review Card Foundation Summary

**[Substantive one-liner describing what was built]**

## Performance
- **Duration:** [time]
- **Started:** [timestamp]
- **Completed:** [timestamp]
- **Tasks:** 2
- **Files modified:** [count]

## Accomplishments
- [Key outcomes]

## Files Created/Modified
- `src/components/strategic-research/section-card.tsx` - Expandable review card component
- `src/components/strategic-research/section-content.tsx` - Content renderers for all 5 sections
- `src/components/strategic-research/index.ts` - Barrel exports

## Decisions Made
[Any decisions made during implementation]

## Deviations from Plan
[Document any deviations per deviation rules]

## Issues Encountered
[Problems and resolutions, or "None"]

## Next Step
Ready for 05-02-PLAN.md (Review UI and Integration)
</output>
