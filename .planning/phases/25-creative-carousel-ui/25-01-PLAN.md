---
phase: 25-creative-carousel-ui
plan: 01
type: execute
---

<objective>
Display competitor ad creatives in an interactive carousel within the Competitor Analysis section.

Purpose: Surface real ad creatives from Phase 24's SearchAPI.io integration, giving users visual insights into competitor advertising strategies.
Output: AdCreativeCarousel component integrated into Section 4 competitor cards, showing images, headlines, and platform badges.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/24-competitor-ad-research/24-01-SUMMARY.md

**Prior decisions affecting this phase:**
- Phase 24: AdCreative[] attached to CompetitorSnapshot.adCreatives field
- Phase 24: 10 ads per platform per competitor (30 max total)
- Phase 24: Graceful degradation - adCreatives may be undefined if SEARCHAPI_KEY missing

**Data structures:**
@src/lib/ad-library/types.ts - AdCreative interface (platform, id, headline, body, imageUrl, videoUrl, isActive, firstSeen, lastSeen, platforms, detailsUrl)
@src/lib/strategic-blueprint/output-types.ts - CompetitorSnapshot with optional adCreatives field
@src/components/strategic-research/section-content.tsx - CompetitorAnalysisContent renderer to extend
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install shadcn carousel component</name>
  <files>src/components/ui/carousel.tsx, package.json</files>
  <action>
    Run `pnpm dlx shadcn@latest add carousel` to install the carousel component.
    This will:
    1. Add embla-carousel-react to dependencies
    2. Create src/components/ui/carousel.tsx with Carousel, CarouselContent, CarouselItem, CarouselNext, CarouselPrevious exports

    Note: Use pnpm (project uses pnpm based on node_modules structure).
  </action>
  <verify>
    - File exists: src/components/ui/carousel.tsx
    - package.json contains embla-carousel-react
    - npm run build succeeds
  </verify>
  <done>Carousel component installed and project builds without errors</done>
</task>

<task type="auto">
  <name>Task 2: Create AdCreativeCarousel component</name>
  <files>src/components/strategic-research/ad-creative-carousel.tsx</files>
  <action>
    Create a new component that displays ad creatives in a carousel:

    1. Props: ads: AdCreative[] (from @/lib/ad-library)

    2. Design requirements:
       - Show carousel only if ads.length > 0
       - Each slide shows one ad creative with:
         - Image (imageUrl) or placeholder if no image
         - Platform badge (LinkedIn/Meta/Google) using existing Badge component with platform-specific colors
         - Headline (truncate if too long)
         - "View Ad" link (detailsUrl) if available
       - Use CarouselPrevious/CarouselNext for navigation
       - Show slide count indicator (e.g., "3 of 10")

    3. Styling:
       - Match existing section-content.tsx visual style (muted backgrounds, rounded corners)
       - Platform badge colors: LinkedIn=#0A66C2, Meta=#1877F2, Google=#4285F4
       - Use aspect-video for image container
       - Handle missing images gracefully with placeholder icon

    4. Responsive:
       - Full width on mobile
       - Fixed max-width on larger screens

    5. Edge cases:
       - Empty ads array: return null
       - Missing imageUrl: show placeholder (ImageOff icon from lucide-react)
       - Missing headline: show body text truncated, or "Ad Creative" fallback
  </action>
  <verify>TypeScript compiles without errors, component exports correctly</verify>
  <done>AdCreativeCarousel component created with proper typing and styling</done>
</task>

<task type="auto">
  <name>Task 3: Integrate carousel into CompetitorAnalysisContent</name>
  <files>src/components/strategic-research/section-content.tsx</files>
  <action>
    Modify CompetitorAnalysisContent to display ad creatives for each competitor:

    1. Import AdCreativeCarousel from ./ad-creative-carousel

    2. In the competitor card (inside the map over data.competitors):
       - After the Strengths/Weaknesses grid (around line 744)
       - Add conditional rendering: if comp.adCreatives && comp.adCreatives.length > 0
       - Render a new subsection "Ad Creatives" with the AdCreativeCarousel

    3. Layout:
       - Add margin-top for spacing from previous content
       - Use SubSection style for consistency ("Ad Creatives ({count})")
       - Carousel spans full width of competitor card

    4. No editing support needed - ad creatives are read-only (fetched from external APIs)
  </action>
  <verify>
    - npm run build succeeds
    - No TypeScript errors
    - Component renders without runtime errors (check by importing in a test or dev server)
  </verify>
  <done>Ad creatives display in carousel within each competitor card when available</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run lint` passes
- [ ] No TypeScript errors
- [ ] Carousel component exists at src/components/ui/carousel.tsx
- [ ] AdCreativeCarousel component exists at src/components/strategic-research/ad-creative-carousel.tsx
- [ ] section-content.tsx imports and uses AdCreativeCarousel
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Carousel displays ad creatives with images, headlines, and platform badges
- Graceful handling of missing images and empty ad arrays
- Visual consistency with existing Section 4 styling
</success_criteria>

<output>
After completion, create `.planning/phases/25-creative-carousel-ui/25-01-SUMMARY.md`:

# Phase 25 Plan 01: Creative Carousel UI Summary

**[Substantive one-liner - what shipped]**

## Performance

- **Duration:** X min
- **Started:** [timestamp]
- **Completed:** [timestamp]
- **Tasks:** 3
- **Files modified:** X

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `src/components/ui/carousel.tsx` - shadcn carousel component
- `src/components/strategic-research/ad-creative-carousel.tsx` - AdCreativeCarousel component
- `src/components/strategic-research/section-content.tsx` - Integrated carousel into competitor cards

## Decisions Made

[Key decisions and rationale, or "None"]

## Deviations from Plan

[Any changes from planned approach, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Phase Readiness

Phase complete, ready for Phase 26 (Competitor Intel Enhancement)

---
*Phase: 25-creative-carousel-ui*
*Completed: [date]*
</output>
