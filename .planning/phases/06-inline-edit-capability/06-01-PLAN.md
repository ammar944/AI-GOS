---
phase: 06-inline-edit-capability
plan: 01
type: execute
---

<objective>
Create reusable EditableText and EditableList components for click-to-edit functionality.

Purpose: Enable inline editing of strategic research content without forms or rich text editors.
Output: Two new components in src/components/strategic-research/editable/ directory.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Codebase constraints:**
- React 19 with "use client" directive for interactive components
- Tailwind CSS for styling
- shadcn/ui components (Button, Input) for primitives
- kebab-case file naming
- Named exports preferred

**Prior decisions affecting this phase:**
- Phase 05-01: CSS max-h for expand/collapse (simple approach preferred)
- Phase 05-01: Copy helpers to section-content (maintain consistency)

**Relevant source files:**
@src/components/strategic-research/section-content.tsx
@src/components/strategic-research/section-card.tsx
@src/components/ui/input.tsx
@src/components/ui/button.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create EditableText component</name>
  <files>src/components/strategic-research/editable/editable-text.tsx</files>
  <action>
Create EditableText component with:

1. **Props interface:**
   - value: string
   - onSave: (newValue: string) => void
   - placeholder?: string
   - multiline?: boolean (for textarea vs input)
   - className?: string

2. **State:**
   - isEditing: boolean (starts false)
   - editValue: string (temporary value during edit)

3. **Display mode (isEditing = false):**
   - Render text with subtle hover effect (cursor-text, bg-muted/50 on hover)
   - onClick → enter edit mode

4. **Edit mode (isEditing = true):**
   - Input (or Textarea if multiline) with editValue
   - Save button (CheckCircle2 icon) - calls onSave, exits edit mode
   - Cancel button (X icon) - discards changes, exits edit mode
   - Escape key → cancel
   - Enter key → save (Cmd/Ctrl+Enter for multiline)

5. **Styling:**
   - Use cn() for conditional classes
   - Match existing section-content.tsx visual style
   - Compact inline buttons (icon only, small size)
   - Focus ring on input for accessibility

Do NOT use contenteditable - use controlled Input/Textarea from shadcn/ui.
  </action>
  <verify>File exists, exports EditableText, no TypeScript errors</verify>
  <done>EditableText component renders, switches between display/edit modes, calls onSave</done>
</task>

<task type="auto">
  <name>Task 2: Create EditableList component</name>
  <files>src/components/strategic-research/editable/editable-list.tsx, src/components/strategic-research/editable/index.ts</files>
  <action>
Create EditableList component for array fields with:

1. **Props interface:**
   - items: string[]
   - onSave: (newItems: string[]) => void
   - placeholder?: string
   - renderPrefix?: (index: number) => React.ReactNode (for custom bullets/numbers)

2. **Behavior:**
   - Render each item with EditableText for inline editing
   - Add "+" button at end to add new item
   - Each item has small "×" button to remove (visible on hover)
   - When item edited, call onSave with full updated array
   - Empty items removed on save

3. **Implementation:**
   - Map items to EditableText components
   - handleItemChange(index, newValue) → update array, call onSave
   - handleRemoveItem(index) → filter out, call onSave
   - handleAddItem() → append empty string, trigger edit mode on new item

4. **Create barrel export:**
   - src/components/strategic-research/editable/index.ts exporting both components

5. **Styling:**
   - Match ListItem style from section-content.tsx
   - Subtle hover states for add/remove buttons
   - Smooth transitions
  </action>
  <verify>File exists, exports EditableList, barrel export works: `import { EditableText, EditableList } from "@/components/strategic-research/editable"`</verify>
  <done>EditableList renders items, supports add/edit/remove, calls onSave with updated array</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] EditableText toggles between display/edit modes
- [ ] EditableList can add, edit, remove items
- [ ] Barrel export works correctly
</verification>

<success_criteria>
- Both components created and exported
- TypeScript compiles without errors
- Components follow existing code conventions
- Ready for integration into section-content.tsx
</success_criteria>

<output>
After completion, create `.planning/phases/06-inline-edit-capability/06-01-SUMMARY.md`:

# Phase 6 Plan 1: EditableText Component Foundation Summary

**[Substantive one-liner]**

## Performance
- Duration: ~X min
- Tasks: 2
- Files modified: 3

## Accomplishments
- [Key outcomes]

## Files Created/Modified
- `path/to/file` - Description

## Decisions Made
[Key decisions or "None"]

## Deviations from Plan
[Any deviations or "None"]

## Issues Encountered
[Problems and resolutions or "None"]

## Next Step
Ready for 06-02-PLAN.md (Section Integration & Edit State)
</output>
