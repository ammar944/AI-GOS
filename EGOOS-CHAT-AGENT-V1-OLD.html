<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Egoos AI Agent — Redesigned Chat Experience</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&family=JetBrains+Mono:wght@400;500&family=Instrument+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
/* ═══════════════════════════════════════════════
   EGOOS AI AGENT — DESIGN SYSTEM TOKENS
   Luxury Command Console Aesthetic
   ═══════════════════════════════════════════════ */

:root {
  /* Brand */
  --brand-navy: #07090e;
  --brand-navy-light: #0a0d14;
  --brand-blue: #365eff;
  --brand-blue-hover: #006fff;
  --brand-sky: #93c5fd;

  /* Backgrounds */
  --bg-base: #07090e;
  --bg-elevated: #0a0d14;
  --bg-surface: #0c0e13;
  --bg-hover: #14171e;
  --bg-active: #191c23;
  --bg-card: #0c0e13;
  --bg-card-blue: rgba(51, 136, 255, 0.06);

  /* Text */
  --text-primary: #fcfcfa;
  --text-secondary: #cdd0d5;
  --text-tertiary: #646973;
  --text-quaternary: #31353f;
  --text-muted: #20232d;

  /* Borders */
  --border-subtle: rgba(255, 255, 255, 0.06);
  --border-default: #1f1f1f;
  --border-hover: #2d2d32;
  --border-focus: #365eff;

  /* Accent */
  --accent-blue: #365eff;
  --accent-cyan: #50f8e4;
  --accent-amber: #f59e0b;
  --accent-green: #22c55e;
  --accent-red: #ef4444;
  --accent-purple: #a78bfa;

  /* Shadows */
  --shadow-card: 0 1px 3px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.02);
  --shadow-elevated: 0 4px 16px rgba(0,0,0,0.5);
  --shadow-glow-blue: 0 0 20px rgba(54, 94, 255, 0.15);

  /* Spacing */
  --chat-width: 440px;
  --header-height: 56px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'DM Sans', -apple-system, sans-serif;
  background: var(--bg-base);
  color: var(--text-primary);
  overflow: hidden;
  height: 100vh;
}

/* ═══════════════════════════════════════════════
   LAYOUT — Two Column: Chat | Blueprint
   ═══════════════════════════════════════════════ */

.app-layout {
  display: flex;
  flex-direction: column;
  height: 100vh;
}

.header {
  height: var(--header-height);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
  border-bottom: 1px solid var(--border-default);
  background: var(--bg-elevated);
  flex-shrink: 0;
  z-index: 10;
}

.header-logo {
  display: flex;
  align-items: center;
  gap: 10px;
}

.header-logo svg { width: 22px; height: 22px; }

.header-logo span {
  font-family: 'Instrument Sans', sans-serif;
  font-weight: 700;
  font-size: 15px;
  letter-spacing: -0.02em;
  background: linear-gradient(135deg, #fff 0%, #93c5fd 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.header-steps {
  display: flex;
  align-items: center;
  gap: 24px;
}

.header-step {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: var(--text-tertiary);
  font-weight: 500;
}

.header-step.active { color: var(--text-primary); }

.header-step .step-num {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 600;
  border: 1.5px solid var(--border-default);
  color: var(--text-tertiary);
}

.header-step.active .step-num {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.header-step.done .step-num {
  background: var(--accent-green);
  border-color: var(--accent-green);
  color: white;
}

.main-content {
  display: flex;
  flex: 1;
  min-height: 0;
}

/* ═══════════════════════════════════════════════
   CHAT PANEL — Left Side, 440px
   ═══════════════════════════════════════════════ */

.chat-panel {
  width: var(--chat-width);
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  border-right: 1px solid var(--border-default);
  background: var(--bg-surface);
  position: relative;
}

.chat-header {
  padding: 12px 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid var(--border-subtle);
  flex-shrink: 0;
}

.chat-header-left {
  display: flex;
  align-items: center;
  gap: 10px;
}

.chat-header-icon {
  width: 28px;
  height: 28px;
  border-radius: 8px;
  background: linear-gradient(135deg, var(--accent-blue), #006fff);
  display: flex;
  align-items: center;
  justify-content: center;
}

.chat-header-icon svg { width: 14px; height: 14px; color: white; }

.chat-header-title {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
  letter-spacing: -0.01em;
}

.chat-header-subtitle {
  font-size: 11px;
  color: var(--text-tertiary);
  margin-top: 1px;
}

.mode-selector {
  display: flex;
  align-items: center;
  gap: 2px;
  background: var(--bg-base);
  border-radius: 8px;
  padding: 3px;
  border: 1px solid var(--border-subtle);
}

.mode-btn {
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 11px;
  font-weight: 500;
  color: var(--text-tertiary);
  cursor: pointer;
  border: none;
  background: none;
  transition: all 0.15s;
  font-family: inherit;
}

.mode-btn:hover { color: var(--text-secondary); }

.mode-btn.active {
  background: var(--bg-hover);
  color: var(--text-primary);
  box-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

/* ═══════════════════════════════════════════════
   MESSAGES AREA
   ═══════════════════════════════════════════════ */

.messages {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 20px;
  scrollbar-width: thin;
  scrollbar-color: var(--border-default) transparent;
}

.messages::-webkit-scrollbar { width: 6px; }
.messages::-webkit-scrollbar-track { background: transparent; }
.messages::-webkit-scrollbar-thumb { background: var(--border-default); border-radius: 3px; }

/* User message */
.msg-user {
  display: flex;
  justify-content: flex-end;
}

.msg-user-bubble {
  max-width: 85%;
  padding: 10px 14px;
  background: var(--bg-hover);
  border: 1px solid var(--border-default);
  border-radius: 14px 14px 4px 14px;
  font-size: 13.5px;
  line-height: 1.55;
  color: var(--text-primary);
}

/* AI message — no bubble, clean left-aligned with accent bar */
.msg-ai {
  display: flex;
  gap: 12px;
  padding-left: 2px;
}

.msg-ai-avatar {
  width: 24px;
  height: 24px;
  border-radius: 7px;
  background: linear-gradient(135deg, var(--accent-blue), #006fff);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.msg-ai-avatar svg { width: 12px; height: 12px; color: white; }

.msg-ai-content {
  flex: 1;
  min-width: 0;
}

.msg-ai-text {
  font-size: 13.5px;
  line-height: 1.65;
  color: var(--text-secondary);
}

.msg-ai-text strong { color: var(--text-primary); font-weight: 600; }

/* ═══════════════════════════════════════════════
   THINKING BLOCK — Collapsible reasoning
   ═══════════════════════════════════════════════ */

.thinking-block {
  margin: 8px 0;
  border-left: 2px solid var(--border-default);
  padding-left: 12px;
}

.thinking-toggle {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11.5px;
  color: var(--text-tertiary);
  cursor: pointer;
  user-select: none;
  font-family: inherit;
  background: none;
  border: none;
  padding: 4px 0;
}

.thinking-toggle:hover { color: var(--text-secondary); }

.thinking-toggle svg {
  width: 12px;
  height: 12px;
  transition: transform 0.2s;
}

.thinking-toggle.open svg { transform: rotate(90deg); }

.thinking-content {
  font-size: 12.5px;
  line-height: 1.6;
  color: var(--text-tertiary);
  font-style: italic;
  margin-top: 6px;
  overflow: hidden;
  max-height: 0;
  transition: max-height 0.3s ease;
}

.thinking-content.open { max-height: 300px; }

/* ═══════════════════════════════════════════════
   INLINE ARTIFACT CARDS
   ═══════════════════════════════════════════════ */

/* Deep Research Card */
.card-research {
  margin: 12px 0;
  border-radius: 12px;
  border: 1px solid var(--border-default);
  background: var(--bg-card);
  overflow: hidden;
  box-shadow: var(--shadow-card);
}

.card-research-header {
  padding: 12px 14px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid var(--border-subtle);
  background: rgba(54, 94, 255, 0.04);
}

.card-research-label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  font-weight: 600;
  color: var(--accent-blue);
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.card-research-label .icon {
  width: 20px;
  height: 20px;
  border-radius: 5px;
  background: rgba(54, 94, 255, 0.15);
  display: flex;
  align-items: center;
  justify-content: center;
}

.card-research-label .icon svg { width: 11px; height: 11px; }

.card-research-meta {
  font-size: 11px;
  color: var(--text-tertiary);
}

.card-research-progress {
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.progress-step {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 12px;
}

.progress-dot {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.progress-dot.done {
  background: rgba(34, 197, 94, 0.15);
  color: var(--accent-green);
}

.progress-dot.active {
  background: rgba(54, 94, 255, 0.15);
  color: var(--accent-blue);
  animation: pulse-glow-sm 1.5s ease-in-out infinite;
}

.progress-dot.pending {
  background: var(--bg-hover);
  color: var(--text-quaternary);
}

.progress-dot svg { width: 10px; height: 10px; }

.progress-label { color: var(--text-secondary); }
.progress-label.done { color: var(--text-tertiary); }
.progress-label.active { color: var(--text-primary); font-weight: 500; }

@keyframes pulse-glow-sm {
  0%, 100% { box-shadow: 0 0 0 0 rgba(54, 94, 255, 0.3); }
  50% { box-shadow: 0 0 0 4px rgba(54, 94, 255, 0); }
}

.card-research-findings {
  padding: 0 14px 14px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.finding-item {
  padding: 10px 12px;
  border-radius: 8px;
  background: var(--bg-hover);
  border: 1px solid var(--border-subtle);
  font-size: 12.5px;
  line-height: 1.55;
  color: var(--text-secondary);
}

.finding-item .finding-title {
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 3px;
  font-size: 12px;
}

.citation-inline {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  border-radius: 4px;
  background: rgba(54, 94, 255, 0.12);
  color: var(--accent-blue);
  font-size: 9px;
  font-weight: 700;
  vertical-align: super;
  margin: 0 1px;
  cursor: pointer;
  transition: all 0.15s;
  font-family: 'JetBrains Mono', monospace;
}

.citation-inline:hover {
  background: rgba(54, 94, 255, 0.25);
  transform: scale(1.1);
}

.card-research-sources {
  padding: 10px 14px;
  border-top: 1px solid var(--border-subtle);
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.source-chip {
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 4px 8px;
  border-radius: 6px;
  background: var(--bg-hover);
  border: 1px solid var(--border-subtle);
  font-size: 10.5px;
  color: var(--text-tertiary);
  cursor: pointer;
  transition: all 0.15s;
}

.source-chip:hover {
  border-color: var(--accent-blue);
  color: var(--text-secondary);
}

.source-chip .source-favicon {
  width: 12px;
  height: 12px;
  border-radius: 2px;
  background: var(--bg-active);
}

/* ═══════════════════════════════════════════════
   EDIT PROPOSAL CARD
   ═══════════════════════════════════════════════ */

.card-edit {
  margin: 12px 0;
  border-radius: 12px;
  border: 1px solid rgba(245, 158, 11, 0.2);
  background: var(--bg-card);
  overflow: hidden;
  box-shadow: var(--shadow-card);
}

.card-edit-header {
  padding: 10px 14px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(245, 158, 11, 0.04);
  border-bottom: 1px solid rgba(245, 158, 11, 0.1);
}

.card-edit-label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  font-weight: 600;
  color: var(--accent-amber);
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.card-edit-section {
  font-size: 11px;
  color: var(--text-tertiary);
  font-family: 'JetBrains Mono', monospace;
}

.card-edit-diff {
  padding: 12px 14px;
  font-size: 12px;
  font-family: 'JetBrains Mono', monospace;
  line-height: 1.7;
}

.diff-line { padding: 1px 0; }
.diff-remove {
  color: #f87171;
  background: rgba(239, 68, 68, 0.08);
  text-decoration: line-through;
  text-decoration-color: rgba(248, 113, 113, 0.4);
}
.diff-add {
  color: #4ade80;
  background: rgba(34, 197, 94, 0.08);
}

.card-edit-actions {
  padding: 10px 14px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-top: 1px solid var(--border-subtle);
}

.card-edit-hint {
  font-size: 11px;
  color: var(--text-quaternary);
}

.card-edit-hint kbd {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 18px;
  height: 18px;
  padding: 0 4px;
  border-radius: 4px;
  background: var(--bg-hover);
  border: 1px solid var(--border-default);
  font-size: 10px;
  font-family: 'JetBrains Mono', monospace;
  color: var(--text-tertiary);
}

.btn-approve, .btn-reject {
  padding: 5px 12px;
  border-radius: 7px;
  font-size: 11.5px;
  font-weight: 600;
  cursor: pointer;
  border: 1px solid transparent;
  font-family: inherit;
  transition: all 0.15s;
}

.btn-approve {
  background: rgba(34, 197, 94, 0.12);
  color: var(--accent-green);
  border-color: rgba(34, 197, 94, 0.2);
}

.btn-approve:hover {
  background: rgba(34, 197, 94, 0.2);
  box-shadow: 0 0 12px rgba(34, 197, 94, 0.15);
}

.btn-reject {
  background: rgba(239, 68, 68, 0.08);
  color: var(--accent-red);
  border-color: rgba(239, 68, 68, 0.15);
}

.btn-reject:hover { background: rgba(239, 68, 68, 0.15); }

/* ═══════════════════════════════════════════════
   COMPARISON TABLE CARD
   ═══════════════════════════════════════════════ */

.card-compare {
  margin: 12px 0;
  border-radius: 12px;
  border: 1px solid var(--border-default);
  background: var(--bg-card);
  overflow: hidden;
  box-shadow: var(--shadow-card);
}

.card-compare-header {
  padding: 10px 14px;
  display: flex;
  align-items: center;
  gap: 8px;
  background: rgba(167, 139, 250, 0.04);
  border-bottom: 1px solid var(--border-subtle);
  font-size: 12px;
  font-weight: 600;
  color: var(--accent-purple);
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.compare-table {
  width: 100%;
  border-collapse: collapse;
}

.compare-table th {
  padding: 8px 12px;
  text-align: left;
  font-size: 10.5px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-tertiary);
  border-bottom: 1px solid var(--border-subtle);
  background: var(--bg-base);
}

.compare-table td {
  padding: 8px 12px;
  font-size: 12px;
  color: var(--text-secondary);
  border-bottom: 1px solid var(--border-subtle);
}

.compare-table tr:last-child td { border-bottom: none; }

.compare-winner {
  color: var(--accent-green) !important;
  font-weight: 600;
}

/* ═══════════════════════════════════════════════
   SCORE / ANALYSIS CARD
   ═══════════════════════════════════════════════ */

.card-score {
  margin: 12px 0;
  border-radius: 12px;
  border: 1px solid var(--border-default);
  background: var(--bg-card);
  overflow: hidden;
  box-shadow: var(--shadow-card);
}

.card-score-header {
  padding: 10px 14px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(80, 248, 228, 0.03);
  border-bottom: 1px solid var(--border-subtle);
}

.card-score-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--accent-cyan);
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.score-big {
  font-size: 24px;
  font-weight: 700;
  font-family: 'JetBrains Mono', monospace;
  color: var(--text-primary);
}

.score-big span { font-size: 14px; color: var(--text-tertiary); }

.card-score-bars {
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.score-bar-row {
  display: flex;
  align-items: center;
  gap: 10px;
}

.score-bar-label {
  width: 90px;
  font-size: 11.5px;
  color: var(--text-tertiary);
  flex-shrink: 0;
}

.score-bar-track {
  flex: 1;
  height: 6px;
  border-radius: 3px;
  background: var(--bg-hover);
  overflow: hidden;
}

.score-bar-fill {
  height: 100%;
  border-radius: 3px;
  transition: width 1s ease;
}

.score-bar-fill.blue { background: var(--accent-blue); }
.score-bar-fill.cyan { background: var(--accent-cyan); }
.score-bar-fill.green { background: var(--accent-green); }
.score-bar-fill.amber { background: var(--accent-amber); }
.score-bar-fill.purple { background: var(--accent-purple); }

.score-bar-value {
  width: 32px;
  text-align: right;
  font-size: 11px;
  font-weight: 600;
  font-family: 'JetBrains Mono', monospace;
  color: var(--text-secondary);
}

/* ═══════════════════════════════════════════════
   VISUALIZATION CARD (Mini Chart)
   ═══════════════════════════════════════════════ */

.card-chart {
  margin: 12px 0;
  border-radius: 12px;
  border: 1px solid var(--border-default);
  background: var(--bg-card);
  overflow: hidden;
  box-shadow: var(--shadow-card);
  padding: 14px;
}

.chart-title {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 12px;
}

.mini-bar-chart {
  display: flex;
  align-items: flex-end;
  gap: 6px;
  height: 80px;
}

.mini-bar {
  flex: 1;
  border-radius: 4px 4px 0 0;
  position: relative;
  transition: height 0.8s ease;
  cursor: pointer;
}

.mini-bar:hover { filter: brightness(1.2); }

.mini-bar-label {
  position: absolute;
  bottom: -20px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 9px;
  color: var(--text-tertiary);
  white-space: nowrap;
}

/* ═══════════════════════════════════════════════
   TOOL LOADING INDICATOR
   ═══════════════════════════════════════════════ */

.tool-loading {
  margin: 8px 0;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 10px;
  background: var(--bg-hover);
  border: 1px solid var(--border-subtle);
}

.tool-loading-icon {
  width: 24px;
  height: 24px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: spin-slow 2s linear infinite;
}

@keyframes spin-slow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

.tool-loading-text {
  font-size: 12px;
  color: var(--text-tertiary);
}

.tool-loading-text strong { color: var(--text-secondary); font-weight: 500; }

/* ═══════════════════════════════════════════════
   FOLLOW-UP SUGGESTIONS
   ═══════════════════════════════════════════════ */

.followups {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 10px;
}

.followup-chip {
  padding: 6px 11px;
  border-radius: 8px;
  font-size: 11.5px;
  color: var(--text-tertiary);
  background: var(--bg-base);
  border: 1px solid var(--border-subtle);
  cursor: pointer;
  transition: all 0.15s;
  font-family: inherit;
}

.followup-chip:hover {
  border-color: var(--accent-blue);
  color: var(--accent-blue);
  background: rgba(54, 94, 255, 0.05);
}

/* ═══════════════════════════════════════════════
   INPUT AREA — Premium glassmorphism
   ═══════════════════════════════════════════════ */

.input-area {
  flex-shrink: 0;
  padding: 12px 16px 16px;
  background: linear-gradient(180deg, transparent, var(--bg-surface) 30%);
}

.input-container {
  position: relative;
  border-radius: 14px;
  background: var(--bg-base);
  border: 1px solid var(--border-default);
  transition: all 0.2s;
  overflow: hidden;
}

.input-container:focus-within {
  border-color: var(--accent-blue);
  box-shadow: 0 0 0 1px rgba(54, 94, 255, 0.15), 0 0 20px rgba(54, 94, 255, 0.08);
}

.slash-commands {
  position: absolute;
  bottom: 100%;
  left: 0;
  right: 0;
  margin-bottom: 6px;
  border-radius: 12px;
  background: var(--bg-elevated);
  border: 1px solid var(--border-default);
  box-shadow: var(--shadow-elevated);
  overflow: hidden;
  display: none;
  z-index: 50;
}

.slash-commands.visible { display: block; }

.slash-commands-title {
  padding: 8px 12px;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--text-quaternary);
  border-bottom: 1px solid var(--border-subtle);
}

.slash-cmd {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  cursor: pointer;
  transition: background 0.1s;
}

.slash-cmd:hover, .slash-cmd.selected { background: var(--bg-hover); }

.slash-cmd-icon {
  width: 28px;
  height: 28px;
  border-radius: 7px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.slash-cmd-icon svg { width: 13px; height: 13px; }

.slash-cmd-name {
  font-size: 12.5px;
  font-weight: 600;
  color: var(--text-primary);
  font-family: 'JetBrains Mono', monospace;
}

.slash-cmd-desc {
  font-size: 11px;
  color: var(--text-tertiary);
  margin-top: 1px;
}

.input-row {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  padding: 10px 12px;
}

.input-field {
  flex: 1;
  background: none;
  border: none;
  outline: none;
  font-size: 13.5px;
  font-family: 'DM Sans', sans-serif;
  color: var(--text-primary);
  resize: none;
  max-height: 120px;
  min-height: 22px;
  line-height: 1.5;
}

.input-field::placeholder { color: var(--text-quaternary); }

.input-actions {
  display: flex;
  align-items: center;
  gap: 2px;
}

.input-btn {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  background: none;
  color: var(--text-quaternary);
  cursor: pointer;
  transition: all 0.15s;
}

.input-btn:hover { color: var(--text-secondary); background: var(--bg-hover); }

.input-btn.send {
  background: var(--accent-blue);
  color: white;
}

.input-btn.send:hover {
  background: var(--brand-blue-hover);
  box-shadow: 0 0 12px rgba(54, 94, 255, 0.3);
}

.input-btn svg { width: 16px; height: 16px; }

.input-hint {
  padding: 4px 12px 8px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.input-hint-left {
  font-size: 10.5px;
  color: var(--text-quaternary);
}

.input-hint-left kbd {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 1px 4px;
  border-radius: 3px;
  background: var(--bg-hover);
  border: 1px solid var(--border-subtle);
  font-size: 9.5px;
  font-family: 'JetBrains Mono', monospace;
  color: var(--text-tertiary);
  margin: 0 2px;
}

.input-hint-right {
  font-size: 10px;
  color: var(--text-quaternary);
  font-family: 'JetBrains Mono', monospace;
}

/* ═══════════════════════════════════════════════
   BLUEPRINT PANEL — Right Side, Full Space
   ═══════════════════════════════════════════════ */

.blueprint-panel {
  flex: 1;
  min-width: 0;
  background: var(--bg-base);
  overflow-y: auto;
  position: relative;
}

.blueprint-header-bar {
  position: sticky;
  top: 0;
  z-index: 5;
  padding: 10px 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(7, 9, 14, 0.85);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border-subtle);
}

.blueprint-nav {
  display: flex;
  align-items: center;
  gap: 6px;
}

.blueprint-nav-item {
  padding: 5px 12px;
  border-radius: 7px;
  font-size: 12px;
  font-weight: 500;
  color: var(--text-tertiary);
  cursor: pointer;
  transition: all 0.15s;
  border: none;
  background: none;
  font-family: inherit;
}

.blueprint-nav-item:hover { color: var(--text-secondary); background: var(--bg-hover); }

.blueprint-nav-item.active {
  color: var(--text-primary);
  background: var(--bg-hover);
}

.blueprint-actions-bar {
  display: flex;
  align-items: center;
  gap: 8px;
}

.btn-ghost {
  padding: 6px 12px;
  border-radius: 7px;
  font-size: 12px;
  font-weight: 500;
  color: var(--text-tertiary);
  cursor: pointer;
  border: 1px solid var(--border-subtle);
  background: none;
  font-family: inherit;
  display: flex;
  align-items: center;
  gap: 5px;
  transition: all 0.15s;
}

.btn-ghost:hover { border-color: var(--border-hover); color: var(--text-secondary); }

.btn-ghost svg { width: 13px; height: 13px; }

.btn-primary {
  padding: 6px 16px;
  border-radius: 7px;
  font-size: 12px;
  font-weight: 600;
  color: white;
  cursor: pointer;
  border: none;
  background: var(--accent-blue);
  font-family: inherit;
  display: flex;
  align-items: center;
  gap: 5px;
  transition: all 0.15s;
}

.btn-primary:hover {
  background: var(--brand-blue-hover);
  box-shadow: 0 0 16px rgba(54, 94, 255, 0.25);
}

/* Blueprint content */
.blueprint-content {
  max-width: 860px;
  margin: 0 auto;
  padding: 32px 40px 80px;
}

.bp-section { margin-bottom: 40px; }

.bp-section-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 12px;
}

.bp-section-badge.market { background: rgba(59,122,255,0.1); color: #6fa0ff; }
.bp-section-badge.icp { background: rgba(16,185,129,0.1); color: #5edead; }
.bp-section-badge.competitor { background: rgba(245,158,11,0.1); color: #fbbf4d; }

.bp-section h2 {
  font-family: 'Instrument Sans', sans-serif;
  font-size: 22px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 8px;
  letter-spacing: -0.02em;
}

.bp-section h3 {
  font-family: 'Instrument Sans', sans-serif;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 20px 0 8px;
  letter-spacing: -0.01em;
}

.bp-section p {
  font-size: 14px;
  line-height: 1.7;
  color: var(--text-secondary);
  margin-bottom: 12px;
}

.bp-highlight {
  padding: 14px 16px;
  border-radius: 10px;
  background: var(--bg-card-blue);
  border: 1px solid rgba(54, 94, 255, 0.1);
  margin: 16px 0;
}

.bp-highlight p {
  margin-bottom: 0;
  font-size: 13.5px;
}

.bp-stat-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin: 16px 0;
}

.bp-stat {
  padding: 14px;
  border-radius: 10px;
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
}

.bp-stat-value {
  font-size: 22px;
  font-weight: 700;
  font-family: 'JetBrains Mono', monospace;
  color: var(--text-primary);
  margin-bottom: 2px;
}

.bp-stat-label {
  font-size: 11px;
  color: var(--text-tertiary);
}

.competitor-tabs {
  display: flex;
  gap: 4px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}

.competitor-tab {
  padding: 6px 12px;
  border-radius: 7px;
  font-size: 12px;
  font-weight: 500;
  color: var(--text-tertiary);
  background: var(--bg-hover);
  border: 1px solid var(--border-subtle);
  cursor: pointer;
  transition: all 0.15s;
  font-family: inherit;
}

.competitor-tab.active {
  color: var(--accent-amber);
  border-color: rgba(245, 158, 11, 0.3);
  background: rgba(245, 158, 11, 0.08);
}

.competitor-card {
  border-radius: 12px;
  border: 1px solid var(--border-default);
  background: var(--bg-surface);
  overflow: hidden;
}

.competitor-card-header {
  padding: 14px 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid var(--border-subtle);
}

.competitor-name {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-primary);
}

.competitor-url {
  font-size: 11px;
  color: var(--text-tertiary);
}

.competitor-card-body { padding: 16px; }

.strengths-weaknesses {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.sw-col h4 {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  margin-bottom: 8px;
}

.sw-col.strengths h4 { color: var(--accent-green); }
.sw-col.weaknesses h4 { color: var(--accent-red); }

.sw-item {
  font-size: 12.5px;
  color: var(--text-secondary);
  line-height: 1.6;
  padding: 2px 0;
}

/* ═══════════════════════════════════════════════
   STREAMING CURSOR
   ═══════════════════════════════════════════════ */

.streaming-cursor {
  display: inline-block;
  width: 2px;
  height: 14px;
  background: var(--accent-blue);
  margin-left: 2px;
  vertical-align: text-bottom;
  animation: blink-cursor 0.8s step-end infinite;
}

@keyframes blink-cursor { 50% { opacity: 0; } }

/* ═══════════════════════════════════════════════
   RESPONSIVE
   ═══════════════════════════════════════════════ */

@media (max-width: 1024px) {
  .main-content { flex-direction: column; }
  .chat-panel { width: 100%; height: 50vh; border-right: none; border-bottom: 1px solid var(--border-default); }
  .blueprint-panel { flex: 1; }
}

/* ═══════════════════════════════════════════════
   TYPING INDICATOR
   ═══════════════════════════════════════════════ */
.typing-dots {
  display: flex;
  gap: 4px;
  padding: 4px 0;
}

.typing-dots span {
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: var(--text-quaternary);
  animation: typing-bounce 1.2s ease-in-out infinite;
}

.typing-dots span:nth-child(2) { animation-delay: 0.15s; }
.typing-dots span:nth-child(3) { animation-delay: 0.3s; }

@keyframes typing-bounce {
  0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
  30% { transform: translateY(-4px); opacity: 1; }
}
</style>
</head>
<body>
<div class="app-layout">
  <!-- ═══════ HEADER ═══════ -->
  <div class="header">
    <div class="header-logo">
      <svg viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" stroke="#365eff" stroke-width="2"/><path d="M8 12l3 3 5-5" stroke="#365eff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      <span>saaslaunch</span>
    </div>
    <div class="header-steps">
      <div class="header-step done"><div class="step-num">✓</div> Setup</div>
      <div class="header-step done"><div class="step-num">✓</div> Generate</div>
      <div class="header-step active"><div class="step-num">3</div> Review</div>
      <div class="header-step"><div class="step-num">4</div> Done</div>
    </div>
    <button class="btn-ghost" style="gap:6px">
      <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9"/></svg>
      Exit
    </button>
  </div>

  <div class="main-content">
    <!-- ═══════ CHAT PANEL ═══════ -->
    <div class="chat-panel">
      <!-- Chat Header -->
      <div class="chat-header">
        <div class="chat-header-left">
          <div class="chat-header-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 3v18M3 12h18" stroke-linecap="round"/></svg>
          </div>
          <div>
            <div class="chat-header-title">Egoos Agent</div>
            <div class="chat-header-subtitle">Strategic Blueprint Assistant</div>
          </div>
        </div>
        <div class="mode-selector">
          <button class="mode-btn active">Chat</button>
          <button class="mode-btn">Research</button>
          <button class="mode-btn">Edit</button>
        </div>
      </div>

      <!-- Messages -->
      <div class="messages" id="messages">

        <!-- User message -->
        <div class="msg-user">
          <div class="msg-user-bubble">Research the competitive landscape for AI-powered restaurant reservation systems. Go deep.</div>
        </div>

        <!-- AI message with thinking + deep research card -->
        <div class="msg-ai">
          <div class="msg-ai-avatar">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 3v18M3 12h18" stroke-linecap="round"/></svg>
          </div>
          <div class="msg-ai-content">
            <!-- Thinking block -->
            <div class="thinking-block">
              <button class="thinking-toggle open" onclick="this.classList.toggle('open'); this.nextElementSibling.classList.toggle('open')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg>
                Thinking for 4.2s
              </button>
              <div class="thinking-content open">
                Breaking down into sub-queries: market sizing for restaurant tech, key players in AI reservation space, pricing models, technology differentiation, recent funding rounds. Running parallel research across 5 dimensions...
              </div>
            </div>

            <div class="msg-ai-text">
              I've completed a deep research analysis of the competitive landscape. Here are the key findings:
            </div>

            <!-- Deep Research Card (Inline Artifact) -->
            <div class="card-research">
              <div class="card-research-header">
                <div class="card-research-label">
                  <span class="icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg></span>
                  Deep Research
                </div>
                <span class="card-research-meta">5 sources · 12s</span>
              </div>
              <div class="card-research-progress">
                <div class="progress-step">
                  <div class="progress-dot done"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M5 12l5 5L20 7" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
                  <span class="progress-label done">Decomposed into 5 sub-queries</span>
                </div>
                <div class="progress-step">
                  <div class="progress-dot done"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M5 12l5 5L20 7" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
                  <span class="progress-label done">Parallel research completed</span>
                </div>
                <div class="progress-step">
                  <div class="progress-dot done"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M5 12l5 5L20 7" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
                  <span class="progress-label done">Synthesized findings</span>
                </div>
              </div>
              <div class="card-research-findings">
                <div class="finding-item">
                  <div class="finding-title">Market Size & Growth</div>
                  Restaurant tech market valued at $6.4B in 2025, AI reservation segment growing at 34% CAGR. <span class="citation-inline">1</span> Key driver: post-pandemic labor shortages pushing automation adoption. <span class="citation-inline">2</span>
                </div>
                <div class="finding-item">
                  <div class="finding-title">Key Players Identified</div>
                  8 direct competitors found. Top 3 by market share: Hostie (est. $12M ARR), AskArthur ($8M), and Bonnie ($5M). <span class="citation-inline">3</span> Most rely on basic IVR with AI wrapper rather than true real-time processing.
                </div>
                <div class="finding-item">
                  <div class="finding-title">Pricing & Positioning Gap</div>
                  Average pricing: $199-499/mo per location. None offer OpenTable/Resy deep integration as standard. <span class="citation-inline">4</span> Differentiation opportunity in fine-dining segment remains wide open. <span class="citation-inline">5</span>
                </div>
              </div>
              <div class="card-research-sources">
                <div class="source-chip"><div class="source-favicon"></div> g2.com</div>
                <div class="source-chip"><div class="source-favicon"></div> techcrunch.com</div>
                <div class="source-chip"><div class="source-favicon"></div> crunchbase.com</div>
                <div class="source-chip"><div class="source-favicon"></div> restaurantdive.com</div>
                <div class="source-chip"><div class="source-favicon"></div> hostie.com</div>
              </div>
            </div>

            <!-- Follow-ups -->
            <div class="followups">
              <button class="followup-chip">Compare top 3 competitors</button>
              <button class="followup-chip">Analyze pricing strategy</button>
              <button class="followup-chip">Update competitor section</button>
            </div>
          </div>
        </div>

        <!-- User message -->
        <div class="msg-user">
          <div class="msg-user-bubble">Compare the top 3 — Hostie, AskArthur, and Bonnie. Focus on pricing, features, and weaknesses.</div>
        </div>

        <!-- AI with comparison table -->
        <div class="msg-ai">
          <div class="msg-ai-avatar">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 3v18M3 12h18" stroke-linecap="round"/></svg>
          </div>
          <div class="msg-ai-content">
            <div class="msg-ai-text">
              Here's a head-to-head comparison across the dimensions you mentioned:
            </div>

            <!-- Comparison Table Card -->
            <div class="card-compare">
              <div class="card-compare-header">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="13" height="13"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
                Competitor Comparison
              </div>
              <table class="compare-table">
                <thead>
                  <tr>
                    <th></th>
                    <th>Hostie</th>
                    <th>AskArthur</th>
                    <th>Bonnie</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="color:var(--text-tertiary);font-weight:600;font-size:11px">PRICING</td>
                    <td class="compare-winner">$199/mo</td>
                    <td>$349/mo</td>
                    <td>$299/mo</td>
                  </tr>
                  <tr>
                    <td style="color:var(--text-tertiary);font-weight:600;font-size:11px">AI ENGINE</td>
                    <td>GPT-4 + custom</td>
                    <td class="compare-winner">Claude + fine-tuned</td>
                    <td>GPT-3.5</td>
                  </tr>
                  <tr>
                    <td style="color:var(--text-tertiary);font-weight:600;font-size:11px">INTEGRATIONS</td>
                    <td>OpenTable only</td>
                    <td>Resy, Yelp</td>
                    <td class="compare-winner">OpenTable, Resy, Yelp</td>
                  </tr>
                  <tr>
                    <td style="color:var(--text-tertiary);font-weight:600;font-size:11px">WEAKNESS</td>
                    <td>Accent handling</td>
                    <td>Slow onboarding</td>
                    <td>No after-hours</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Mini chart inline -->
            <div class="card-chart">
              <div class="chart-title">Estimated Monthly Revenue ($ thousands)</div>
              <div class="mini-bar-chart">
                <div class="mini-bar" style="height:80px;background:linear-gradient(180deg, #365eff, #1a3acc)">
                  <span class="mini-bar-label">Hostie</span>
                </div>
                <div class="mini-bar" style="height:54px;background:linear-gradient(180deg, #a78bfa, #7c5fcf)">
                  <span class="mini-bar-label">Arthur</span>
                </div>
                <div class="mini-bar" style="height:36px;background:linear-gradient(180deg, #50f8e4, #2ac4b4)">
                  <span class="mini-bar-label">Bonnie</span>
                </div>
                <div class="mini-bar" style="height:24px;background:linear-gradient(180deg, #f59e0b, #d97706)">
                  <span class="mini-bar-label">Maitly</span>
                </div>
                <div class="mini-bar" style="height:20px;background:linear-gradient(180deg, #ec4899, #be185d)">
                  <span class="mini-bar-label">Maple</span>
                </div>
                <div class="mini-bar" style="height:16px;background:linear-gradient(180deg, #22c55e, #15803d)">
                  <span class="mini-bar-label">Millie</span>
                </div>
              </div>
            </div>

            <div class="msg-ai-text" style="margin-top:8px">
              <strong>Key insight:</strong> Hostie leads on price but struggles with accent handling and luxury customization. There's a clear gap for a premium solution targeting fine-dining restaurants with native OpenTable/Resy integration.
            </div>
          </div>
        </div>

        <!-- User message -->
        <div class="msg-user">
          <div class="msg-user-bubble">Update the competitor analysis section with these findings. Make it sharper.</div>
        </div>

        <!-- AI with edit proposal -->
        <div class="msg-ai">
          <div class="msg-ai-avatar">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 3v18M3 12h18" stroke-linecap="round"/></svg>
          </div>
          <div class="msg-ai-content">
            <div class="msg-ai-text">
              I've drafted an update to the <strong>Competitor Analysis</strong> section incorporating the research findings. Here's the proposed edit:
            </div>

            <!-- Edit Proposal Card -->
            <div class="card-edit">
              <div class="card-edit-header">
                <div class="card-edit-label">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="13" height="13"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.12 2.12 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                  Edit Proposal
                </div>
                <span class="card-edit-section">competitorAnalysis.overview</span>
              </div>
              <div class="card-edit-diff">
                <div class="diff-line diff-remove">− The competitive landscape includes several players offering basic AI call answering for restaurants.</div>
                <div class="diff-line diff-add">+ The AI restaurant reservation market ($6.4B, 34% CAGR) features 8 direct competitors. Hostie leads with ~$12M ARR and aggressive $199/mo pricing, but struggles with accent handling and luxury customization. AskArthur ($8M ARR) uses Claude-based AI but has slow onboarding. The critical gap: no competitor offers native OpenTable + Resy integration as standard for the fine-dining segment.</div>
              </div>
              <div class="card-edit-actions">
                <span class="card-edit-hint">Press <kbd>Y</kbd> to approve · <kbd>N</kbd> to reject</span>
                <div style="display:flex;gap:6px">
                  <button class="btn-reject">Reject</button>
                  <button class="btn-approve">Approve</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- User message -->
        <div class="msg-user">
          <div class="msg-user-bubble">/analyze the ICP section — score it and tell me what's weak</div>
        </div>

        <!-- AI with score card -->
        <div class="msg-ai">
          <div class="msg-ai-avatar">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 3v18M3 12h18" stroke-linecap="round"/></svg>
          </div>
          <div class="msg-ai-content">
            <div class="msg-ai-text">
              Here's the quality analysis of your ICP section:
            </div>

            <!-- Score Card -->
            <div class="card-score">
              <div class="card-score-header">
                <span class="card-score-label">ICP Section Analysis</span>
                <span class="score-big">7.4<span>/10</span></span>
              </div>
              <div class="card-score-bars">
                <div class="score-bar-row">
                  <span class="score-bar-label">Specificity</span>
                  <div class="score-bar-track"><div class="score-bar-fill blue" style="width:85%"></div></div>
                  <span class="score-bar-value">8.5</span>
                </div>
                <div class="score-bar-row">
                  <span class="score-bar-label">Data Backing</span>
                  <div class="score-bar-track"><div class="score-bar-fill cyan" style="width:72%"></div></div>
                  <span class="score-bar-value">7.2</span>
                </div>
                <div class="score-bar-row">
                  <span class="score-bar-label">Actionability</span>
                  <div class="score-bar-track"><div class="score-bar-fill green" style="width:78%"></div></div>
                  <span class="score-bar-value">7.8</span>
                </div>
                <div class="score-bar-row">
                  <span class="score-bar-label">Pain Depth</span>
                  <div class="score-bar-track"><div class="score-bar-fill amber" style="width:60%"></div></div>
                  <span class="score-bar-value">6.0</span>
                </div>
                <div class="score-bar-row">
                  <span class="score-bar-label">TAM Clarity</span>
                  <div class="score-bar-track"><div class="score-bar-fill purple" style="width:68%"></div></div>
                  <span class="score-bar-value">6.8</span>
                </div>
              </div>
            </div>

            <div class="msg-ai-text" style="margin-top:4px">
              <strong>Biggest weakness: Pain Depth (6.0).</strong> The pain points are listed but not quantified. Adding revenue impact numbers — like "missing $200-400/night in reservation calls during peak dinner rush" — would make this dramatically more persuasive for ad copy and landing pages.<span class="streaming-cursor"></span>
            </div>

            <div class="followups">
              <button class="followup-chip">Deepen the pain points</button>
              <button class="followup-chip">Add TAM data</button>
              <button class="followup-chip">Rewrite ICP section</button>
            </div>
          </div>
        </div>

      </div>

      <!-- ═══════ INPUT AREA ═══════ -->
      <div class="input-area">
        <div class="input-container">
          <!-- Slash command palette -->
          <div class="slash-commands" id="slashMenu">
            <div class="slash-commands-title">Commands</div>
            <div class="slash-cmd selected">
              <div class="slash-cmd-icon" style="background:rgba(54,94,255,0.12);color:var(--accent-blue)">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
              </div>
              <div>
                <div class="slash-cmd-name">/research</div>
                <div class="slash-cmd-desc">Deep multi-step research with citations</div>
              </div>
            </div>
            <div class="slash-cmd">
              <div class="slash-cmd-icon" style="background:rgba(245,158,11,0.12);color:var(--accent-amber)">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.12 2.12 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
              </div>
              <div>
                <div class="slash-cmd-name">/edit</div>
                <div class="slash-cmd-desc">Edit a blueprint section with AI</div>
              </div>
            </div>
            <div class="slash-cmd">
              <div class="slash-cmd-icon" style="background:rgba(167,139,250,0.12);color:var(--accent-purple)">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
              </div>
              <div>
                <div class="slash-cmd-name">/compare</div>
                <div class="slash-cmd-desc">Side-by-side competitor comparison</div>
              </div>
            </div>
            <div class="slash-cmd">
              <div class="slash-cmd-icon" style="background:rgba(80,248,228,0.12);color:var(--accent-cyan)">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 20V10M12 20V4M6 20v-6"/></svg>
              </div>
              <div>
                <div class="slash-cmd-name">/analyze</div>
                <div class="slash-cmd-desc">Score and analyze any section</div>
              </div>
            </div>
            <div class="slash-cmd">
              <div class="slash-cmd-icon" style="background:rgba(34,197,94,0.12);color:var(--accent-green)">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18M9 21V9"/></svg>
              </div>
              <div>
                <div class="slash-cmd-name">/visualize</div>
                <div class="slash-cmd-desc">Generate charts and data visuals</div>
              </div>
            </div>
          </div>

          <div class="input-row">
            <textarea class="input-field" id="chatInput" rows="1" placeholder="Ask about your blueprint or type / for commands..." oninput="handleInput(this)" onkeydown="handleKeydown(event)"></textarea>
            <div class="input-actions">
              <button class="input-btn" title="Voice input">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 00-3 3v8a3 3 0 006 0V4a3 3 0 00-3-3z"/><path d="M19 10v2a7 7 0 01-14 0v-2M12 19v4M8 23h8"/></svg>
              </button>
              <button class="input-btn" title="Attach file">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48"/></svg>
              </button>
              <button class="input-btn send" title="Send message">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
              </button>
            </div>
          </div>
          <div class="input-hint">
            <span class="input-hint-left"><kbd>/</kbd> commands · <kbd>⇧</kbd><kbd>↵</kbd> newline</span>
            <span class="input-hint-right">Groq 70B</span>
          </div>
        </div>
      </div>
    </div>

    <!-- ═══════ BLUEPRINT PANEL ═══════ -->
    <div class="blueprint-panel">
      <div class="blueprint-header-bar">
        <div class="blueprint-nav">
          <button class="blueprint-nav-item">Overview</button>
          <button class="blueprint-nav-item">Market</button>
          <button class="blueprint-nav-item">ICP</button>
          <button class="blueprint-nav-item active">Competitors</button>
          <button class="blueprint-nav-item">Offer</button>
          <button class="blueprint-nav-item">Synthesis</button>
        </div>
        <div class="blueprint-actions-bar">
          <button class="btn-ghost">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="13" height="13"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
            Copy
          </button>
          <button class="btn-ghost">Approve All</button>
          <button class="btn-primary">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="13" height="13"><path d="M5 12l5 5L20 7"/></svg>
            Approve →
          </button>
        </div>
      </div>

      <div class="blueprint-content">
        <!-- Market Section (preview) -->
        <div class="bp-section">
          <div class="bp-section-badge market">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/></svg>
            Industry & Market Overview
          </div>
          <h2>Restaurant AI Technology Market</h2>
          <p>The restaurant technology market is experiencing a fundamental transformation driven by labor shortages, rising operational costs, and growing consumer expectations for seamless digital experiences.</p>
          <div class="bp-stat-grid">
            <div class="bp-stat">
              <div class="bp-stat-value">$6.4B</div>
              <div class="bp-stat-label">Total Addressable Market</div>
            </div>
            <div class="bp-stat">
              <div class="bp-stat-value">34%</div>
              <div class="bp-stat-label">AI Segment CAGR</div>
            </div>
            <div class="bp-stat">
              <div class="bp-stat-value">73%</div>
              <div class="bp-stat-label">Restaurants Seeking Automation</div>
            </div>
          </div>
        </div>

        <!-- Competitor Section -->
        <div class="bp-section">
          <div class="bp-section-badge competitor">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="8.5" cy="7" r="4"/><path d="M20 8v6M23 11h-6"/></svg>
            Competitor Analysis
          </div>
          <h2>Competitive Landscape</h2>

          <div class="bp-highlight">
            <p><strong>Updated via AI Agent:</strong> The AI restaurant reservation market ($6.4B, 34% CAGR) features 8 direct competitors. The critical gap: no competitor offers native OpenTable + Resy integration as standard for the fine-dining segment.</p>
          </div>

          <h3>Competitor Snapshots</h3>
          <div class="competitor-tabs">
            <button class="competitor-tab">AskArthur</button>
            <button class="competitor-tab">Bonnie</button>
            <button class="competitor-tab active">Hostie</button>
            <button class="competitor-tab">Loman AI</button>
            <button class="competitor-tab">Maitly</button>
            <button class="competitor-tab">Maple</button>
          </div>

          <div class="competitor-card">
            <div class="competitor-card-header">
              <div>
                <div class="competitor-name">Hostie</div>
                <div class="competitor-url">hostie.com · AI host for restaurants</div>
              </div>
              <span style="font-size:11px;color:var(--accent-amber);font-weight:600;background:rgba(245,158,11,0.1);padding:3px 8px;border-radius:5px">MARKET LEADER</span>
            </div>
            <div class="competitor-card-body">
              <div class="strengths-weaknesses">
                <div class="sw-col strengths">
                  <h4>Strengths</h4>
                  <div class="sw-item">+ Quick setup under 24 hours</div>
                  <div class="sw-item">+ Accurate reservation handling</div>
                  <div class="sw-item">+ Aggressive pricing ($199/mo)</div>
                  <div class="sw-item">+ Cost savings on host staff</div>
                </div>
                <div class="sw-col weaknesses">
                  <h4>Weaknesses</h4>
                  <div class="sw-item">− Limited luxury customization</div>
                  <div class="sw-item">− Struggles with accents</div>
                  <div class="sw-item">− Basic reporting & analytics</div>
                  <div class="sw-item">− No Resy integration</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// Slash command palette toggle
function handleInput(el) {
  const menu = document.getElementById('slashMenu');
  if (el.value === '/') {
    menu.classList.add('visible');
  } else {
    menu.classList.remove('visible');
  }
  // Auto-resize
  el.style.height = 'auto';
  el.style.height = Math.min(el.scrollHeight, 120) + 'px';
}

function handleKeydown(e) {
  if (e.key === 'Escape') {
    document.getElementById('slashMenu').classList.remove('visible');
  }
}

// Animate score bars on load
window.addEventListener('load', () => {
  document.querySelectorAll('.score-bar-fill').forEach(bar => {
    const width = bar.style.width;
    bar.style.width = '0%';
    setTimeout(() => { bar.style.width = width; }, 300);
  });

  // Animate mini chart bars
  document.querySelectorAll('.mini-bar').forEach(bar => {
    const height = bar.style.height;
    bar.style.height = '0px';
    setTimeout(() => { bar.style.height = height; }, 400);
  });

  // Scroll messages to bottom
  const msgs = document.getElementById('messages');
  msgs.scrollTop = msgs.scrollHeight;
});
</script>
</body>
</html>
